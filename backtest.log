2025-04-04 10:37:08,257 - src - INFO - Initializing 'src' package...
2025-04-04 10:37:08,257 - src - INFO - Source package 'src' version 0.1.0 initialized.
2025-04-04 10:37:08,260 - src.core.config - INFO - Configuration loaded.
2025-04-04 10:37:08,268 - root - INFO - Registered strategies: ['MA', 'RSI', 'BB']
2025-04-04 10:37:08,274 - src.portfolio - INFO - Portfolio package initialized.
2025-04-04 10:37:08,278 - src.analysis - INFO - Analysis package initialized.
2025-04-04 10:37:08,279 - src.core - INFO - Core package initialized.
2025-04-04 10:37:08,424 - src.visualization - INFO - Visualization package initialized.
2025-04-04 10:37:08,426 - src.ui - INFO - UI package initialized.
2025-04-04 10:37:08,469 - src.core.data - INFO - DataLoader initialized. Data path: 'data\historical_prices.csv', Benchmark: 'SPY'
2025-04-04 10:37:08,474 - src.core.backtest_manager - INFO - BacktestManager initialized with initial capital: $100,000.00 and data path: data/historical_prices.csv
2025-04-04 10:37:08,480 - src.visualization.visualizer - INFO - BacktestVisualizer initialized.
2025-04-04 10:37:08,482 - src.core.data - INFO - DataLoader initialized. Data path: 'data\historical_prices.csv', Benchmark: 'SPY'
2025-04-04 10:37:08,485 - __main__ - INFO - Managers and DataLoader initialized successfully.
2025-04-04 10:37:08,496 - src.core.data - INFO - Loading historical data from: data\historical_prices.csv...
2025-04-04 10:37:08,522 - src.core.data - INFO - CSV loaded successfully: 12528 rows, 7 columns.
2025-04-04 10:37:08,525 - __main__ - INFO - Available tickers for selection: ['AAPL', 'AMZN', 'GOOGL', 'META', 'MSFT', 'NVDA', 'TSLA']
2025-04-04 10:37:08,525 - src.portfolio.risk_manager - INFO - RiskManager initialized with settings: max_pos_size=20.00%, min_pos_size=1.00%, max_open=5, stop=2.00%, R:R=2.0, trailing=False (act: 2.00%, dist: 1.50%), max_dd=20.00%, max_daily_loss=5.00%, market_filter=False (lookback: 100)
2025-04-04 10:37:08,529 - __main__ - INFO - Starting Dash application...
2025-04-04 10:37:08,529 - __main__ - INFO - Available tickers for selection: ['AAPL', 'AMZN', 'GOOGL', 'META', 'MSFT', 'NVDA', 'TSLA']
2025-04-04 10:37:08,529 - __main__ - INFO - Found 7 tickers during startup.
2025-04-04 10:37:08,530 - __main__ - INFO - Running app on 0.0.0.0:8050 with debug=True
2025-04-04 10:39:57,859 - __main__ - INFO - ============================================2025-04-04 10:43:51,088 - __main__ - INFO - Dash application stopped.
by: run-backtest-button. Click: 1
2025-04-04 10:39:57,860 - __main__ - INFO - Strategy: MA, Tickers: ['AAPL', 'AMZN', 'GOOGL', 'META', 'MSFT'], Risk Mode: disabled
2025-04-04 10:39:59,151 - __main__ - INFO - Collected strategy parameters: {'short_window': 20, 'long_window': 50}
2025-04-04 10:39:59,151 - __main__ - INFO - Risk Management DISABLED.
2025-04-04 10:39:59,151 - __main__ - INFO - Calling backtest_manager.run_backtest...
2025-04-04 10:39:59,151 - src.core.backtest_manager - INFO - --- Starting New Backtest ---
2025-04-04 10:39:59,151 - src.core.backtest_manager - INFO - Strategy: MA, Tickers: ['AAPL', 'AMZN', 'GOOGL', 'META', 'MSFT']
2025-04-04 10:39:59,151 - src.core.backtest_manager - INFO - Strategy Params: {'short_window': 20, 'long_window': 50}, Risk Params: None
2025-04-04 10:39:59,151 - src.core.backtest_manager - INFO - Initialized strategy 'MA' with params: {'short_window': 20, 'long_window': 50}
2025-04-04 10:39:59,151 - src.portfolio.risk_manager - INFO - RiskManager initialized with settings: max_pos_size=20.00%, min_pos_size=1.00%, max_open=5, stop=2.00%, R:R=2.0, trailing=False (act: 2.00%, dist: 1.50%), max_dd=20.00%, max_daily_loss=5.00%, market_filter=False (lookback: 100)
2025-04-04 10:39:59,151 - src.core.backtest_manager - INFO - Initialized RiskManager with default parameters.
2025-04-04 10:39:59,151 - src.portfolio.portfolio_manager - INFO - PortfolioManager initialized with capital $100,000.00 and linked RiskManager.
2025-04-04 10:39:59,151 - src.core.backtest_manager - INFO - Initialized PortfolioManager.
2025-04-04 10:39:59,151 - src.core.data - INFO - Loading historical data from: data\historical_prices.csv...
2025-04-04 10:39:59,178 - src.core.data - INFO - CSV loaded successfully: 12528 rows, 7 columns.
2025-04-04 10:39:59,228 - src.core.data - INFO - Finished loading data for 7/7 requested tickers.
2025-04-04 10:39:59,228 - src.core.backtest_manager - INFO - Using data for 5 tickers: AAPL, AMZN, GOOGL, META, MSFT
2025-04-04 10:39:59,252 - src.core.backtest_manager - INFO - Combined data prepared. Shape: (1566, 25). Date range: 2020-01-02 00:00:00 to 2023-12-29 00:00:00
2025-04-04 10:39:59,253 - src.core.backtest_manager - INFO - Generating signals for all tickers...
2025-04-04 10:39:59,325 - src.core.backtest_manager - INFO - Signal generation complete for 5 tickers.
2025-04-04 10:39:59,333 - src.core.backtest_manager - INFO - Starting backtest simulation loop...
2025-04-04 10:39:59,345 - src.core.backtest_manager - ERROR - CRITICAL error during backtest execution: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().
2025-04-04 10:39:59,352 - src.core.backtest_manager - ERROR - Traceback (most recent call last):
  File "x:\GitHub\Backtester_app\src\core\backtest_manager.py", line 311, in run_backtest
    eod_prices = {ticker: current_market_data[(ticker, 'Close')] for ticker in valid_tickers if (ticker, 'Close') in current_market_data and pd.notna(current_market_data[(ticker, 'Close')])}
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "x:\GitHub\Backtester_app\src\core\backtest_manager.py", line 311, in <dictcomp>
    eod_prices = {ticker: current_market_data[(ticker, 'Close')] for ticker in valid_tickers if (ticker, 'Close') in current_market_data and pd.notna(current_market_data[(ticker, 'Close')])}
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "X:\GitHub\Backtester_app\.venv\Lib\site-packages\pandas\core\generic.py", line 1577, in __nonzero__
    raise ValueError(
ValueError: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().

2025-04-04 10:39:59,354 - __main__ - INFO - Backtest manager finished.
2025-04-04 10:39:59,354 - __main__ - ERROR - Backtest manager returned None for results or stats.
2025-04-04 10:40:15,235 - __main__ - INFO - ==================================================
2025-04-04 10:40:15,235 - __main__ - INFO - Backtest triggered by: run-backtest-button. Click: 2
2025-04-04 10:40:15,235 - __main__ - INFO - Strategy: BB, Tickers: ['AAPL', 'AMZN', 'GOOGL', 'META', 'MSFT'], Risk Mode: disabled
2025-04-04 10:40:15,351 - __main__ - INFO - Collected strategy parameters: {'window': 20, 'num_std': 2.0}
2025-04-04 10:40:15,351 - __main__ - INFO - Risk Management DISABLED.
2025-04-04 10:40:15,351 - __main__ - INFO - Calling backtest_manager.run_backtest...
2025-04-04 10:40:15,351 - src.core.backtest_manager - INFO - --- Starting New Backtest ---
2025-04-04 10:40:15,351 - src.core.backtest_manager - INFO - Strategy: BB, Tickers: ['AAPL', 'AMZN', 'GOOGL', 'META', 'MSFT']
2025-04-04 10:40:15,351 - src.core.backtest_manager - INFO - Strategy Params: {'window': 20, 'num_std': 2.0}, Risk Params: None
2025-04-04 10:40:15,355 - src.core.backtest_manager - INFO - Initialized strategy 'BB' with params: {'window': 20, 'num_std': 2.0}
2025-04-04 10:40:15,355 - src.portfolio.risk_manager - INFO - RiskManager initialized with settings: max_pos_size=20.00%, min_pos_size=1.00%, max_open=5, stop=2.00%, R:R=2.0, trailing=False (act: 2.00%, dist: 1.50%), max_dd=20.00%, max_daily_loss=5.00%, market_filter=False (lookback: 100)
2025-04-04 10:40:15,356 - src.core.backtest_manager - INFO - Initialized RiskManager with default parameters.
2025-04-04 10:40:15,356 - src.portfolio.portfolio_manager - INFO - PortfolioManager initialized with capital $100,000.00 and linked RiskManager.
2025-04-04 10:40:15,356 - src.core.backtest_manager - INFO - Initialized PortfolioManager.
2025-04-04 10:40:15,356 - src.core.data - INFO - Finished loading data for 7/7 requested tickers.
2025-04-04 10:40:15,356 - src.core.backtest_manager - INFO - Using data for 5 tickers: AAPL, AMZN, GOOGL, META, MSFT
2025-04-04 10:40:15,356 - src.core.backtest_manager - INFO - Combined data prepared. Shape: (1566, 25). Date range: 2020-01-02 00:00:00 to 2023-12-29 00:00:00
2025-04-04 10:40:15,356 - src.core.backtest_manager - INFO - Generating signals for all tickers...
2025-04-04 10:40:15,412 - src.core.backtest_manager - INFO - Signal generation complete for 5 tickers.
2025-04-04 10:40:15,413 - src.core.backtest_manager - INFO - Starting backtest simulation loop...
2025-04-04 10:40:15,429 - src.core.backtest_manager - ERROR - CRITICAL error during backtest execution: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().
2025-04-04 10:40:15,430 - src.core.backtest_manager - ERROR - Traceback (most recent call last):
  File "x:\GitHub\Backtester_app\src\core\backtest_manager.py", line 286, in run_backtest
    if pd.isna(entry_price): continue # Skip if price is NaN
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "X:\GitHub\Backtester_app\.venv\Lib\site-packages\pandas\core\generic.py", line 1577, in __nonzero__
    raise ValueError(
ValueError: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().

2025-04-04 10:40:15,432 - __main__ - INFO - Backtest manager finished.
2025-04-04 10:40:15,432 - __main__ - ERROR - Backtest manager returned None for results or stats.
2025-04-04 10:40:18,718 - __main__ - INFO - ==================================================
2025-04-04 10:40:18,718 - __main__ - INFO - Backtest triggered by: run-backtest-button. Click: 3
2025-04-04 10:40:18,718 - __main__ - INFO - Strategy: RSI, Tickers: ['AAPL', 'AMZN', 'GOOGL', 'META', 'MSFT'], Risk Mode: disabled
2025-04-04 10:40:18,834 - __main__ - INFO - Collected strategy parameters: {'period': 14, 'overbought': 70, 'oversold': 30}
2025-04-04 10:40:18,834 - __main__ - INFO - Risk Management DISABLED.
2025-04-04 10:40:18,852 - __main__ - INFO - Calling backtest_manager.run_backtest...
2025-04-04 10:40:18,855 - src.core.backtest_manager - INFO - --- Starting New Backtest ---
2025-04-04 10:40:18,863 - src.core.backtest_manager - INFO - Strategy: RSI, Tickers: ['AAPL', 'AMZN', 'GOOGL', 'META', 'MSFT']
2025-04-04 10:40:18,865 - src.core.backtest_manager - INFO - Strategy Params: {'period': 14, 'overbought': 70, 'oversold': 30}, Risk Params: None
2025-04-04 10:40:18,867 - src.core.backtest_manager - INFO - Initialized strategy 'RSI' with params: {'period': 14, 'overbought': 70, 'oversold': 30}
2025-04-04 10:40:18,872 - src.portfolio.risk_manager - INFO - RiskManager initialized with settings: max_pos_size=20.00%, min_pos_size=1.00%, max_open=5, stop=2.00%, R:R=2.0, trailing=False (act: 2.00%, dist: 1.50%), max_dd=20.00%, max_daily_loss=5.00%, market_filter=False (lookback: 100)
2025-04-04 10:40:18,875 - src.core.backtest_manager - INFO - Initialized RiskManager with default parameters.
2025-04-04 10:40:18,885 - src.portfolio.portfolio_manager - INFO - PortfolioManager initialized with capital $100,000.00 and linked RiskManager.
2025-04-04 10:40:18,887 - src.core.backtest_manager - INFO - Initialized PortfolioManager.
2025-04-04 10:40:18,904 - src.core.data - INFO - Finished loading data for 7/7 requested tickers.
2025-04-04 10:40:18,921 - src.core.backtest_manager - INFO - Using data for 5 tickers: AAPL, AMZN, GOOGL, META, MSFT
2025-04-04 10:40:18,927 - src.core.backtest_manager - INFO - Combined data prepared. Shape: (1566, 25). Date range: 2020-01-02 00:00:00 to 2023-12-29 00:00:00
2025-04-04 10:40:18,937 - src.core.backtest_manager - INFO - Generating signals for all tickers...
2025-04-04 10:40:18,979 - src.core.backtest_manager - INFO - Signal generation complete for 5 tickers.
2025-04-04 10:40:18,980 - src.core.backtest_manager - INFO - Starting backtest simulation loop...
2025-04-04 10:40:18,980 - src.core.backtest_manager - ERROR - CRITICAL error during backtest execution: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().
2025-04-04 10:40:18,986 - src.core.backtest_manager - ERROR - Traceback (most recent call last):
  File "x:\GitHub\Backtester_app\src\core\backtest_manager.py", line 286, in run_backtest
    if pd.isna(entry_price): continue # Skip if price is NaN
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "X:\GitHub\Backtester_app\.venv\Lib\site-packages\pandas\core\generic.py", line 1577, in __nonzero__
    raise ValueError(
ValueError: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().

2025-04-04 10:40:18,987 - __main__ - INFO - Backtest manager finished.
2025-04-04 10:40:18,987 - __main__ - ERROR - Backtest manager returned None for results or stats.
2025-04-04 10:43:50,545 - __main__ - INFO - Dash application stopped.
