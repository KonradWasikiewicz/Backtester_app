/*
Style sheet for the Backtester Dash application.
Organized by sections:
1.  Font Size Variables
2.  General Element Styling (body, labels, inputs, buttons)
3.  Layout Specific Styles (header, sidebar, content, footer)
4.  Component Specific Styles (cards, tables, dropdowns, etc.)
5.  Wizard Specific Styles
6.  Results Section Styles
7.  Utility Classes
*/

/* --- Font Size Variables --- */
:root {
  --font-size-base: 1rem;    /* 16px */
  --font-size-sm: 0.875rem; /* 14px */
  --font-size-xs: 0.75rem;  /* 12px */
}

/* --- General Element Styling --- */
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  margin: 0;
  padding: 0;
  background-color: #121212 !important; /* Updated to dark theme background */
  color: #ffffff !important; /* Updated to dark theme text */
  font-size: 80%; /* Reduce base font size to scale UI down */
  min-height: 100vh; /* Ensure body takes full height */
}

/* --- Form Input Styling --- */
input, .form-control, .form-select, .dbc-input, .Select-control, .Select-menu-outer {
  background-color: #1e222d !important; /* Dark background as per guidelines */
  color: #ffffff !important; /* White text as per guidelines */
  border-color: #444 !important;
}

/* Ensure text remains white while typing and on focus */
input::placeholder, .form-control::placeholder {
  color: #adb5bd !important;
}

input:focus, .form-control:focus {
  background-color: #1e222d !important;
  color: #ffffff !important;
  border-color: #0d6efd !important;
}

/* --- Button Styling --- */
.btn, .dbc-button {
  font-size: inherit; /* Removed !important */
}

/* --- Date Picker Styling --- */
.SingleDatePickerInput {
  background-color: #1e222d !important;
  border-color: #444 !important;
}

.DateInput_input {
  text-align: center !important;
  font-weight: 400 !important;
  background-color: #1e222d !important;
  color: #ffffff !important;
  border-color: #444 !important;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;
}

/* Fix for the question mark triangle icon */
.DateInput_fangShape, .DateInput_fang {
  display: none !important;
}

/* Remove extra arrows and indicators */
.DateInput_fangStroke {
  display: none !important;
}

/* Ensure the date picker calendar has proper contrast */
.CalendarDay {
  background-color: #2a2e39 !important;
  color: #ffffff !important;
}

.CalendarDay__selected {
  background-color: #0d6efd !important;
  color: white !important;
}

.CalendarDay__today {
  background-color: #343a40 !important;
  color: #ffffff !important;
  border: 1px solid #0d6efd !important;
}

/* --- Layout Specific Styles --- */
.header {
  background-color: #343a40; /* Dark header */
  color: white;
  padding: 1rem;
}

.content {
  padding: 1rem;
}

/* --- Component Specific Styles --- */
.card {
  margin-top: 0 !important; /* Ensure no top margin */
  margin-bottom: 0.25rem !important; /* Consistent small bottom margin, reduced from 0.5rem */
}

.card-header { /* New style for card headers */
  display: flex;
  align-items: center;
  min-height: 40px; /* Adjust as needed for consistent height */
}

.card-title-text { /* New class for title text within card headers */
  text-align: center;
  flex-grow: 1; /* Allow title to take available space for centering */
  margin-bottom: 0; /* Remove default margin from h5/etc if used */
}

.card-title {
    margin-bottom: 0.75rem;
}

/* --- Main Layout Styles --- */
/* Removing previously added incorrect flexbox styles.
   The layout is managed by Bootstrap columns (dbc.Col).
.main-app-layout {
  display: flex;
  padding: 1rem;
}
#left-panel {
  flex: 0 0 20%;
}
#center-panel {
  flex: 1;
  margin-left: 1rem;
  margin-right: 1rem;
}
#right-panel {
  flex: 0 0 30%;
}
*/

/* New styles for panel spacing using padding for Bootstrap dbc.Col components.
   These target the IDs that will be set on the dbc.Col components in app_factory.py.
   This reduces the default Bootstrap column gutter for a 50% visual reduction.
*/
#left-panel-col {
  padding-right: 3.75px !important; /* Further reduced from 7.5px */
}

#center-panel-col {
  padding-left: 3.75px !important;  /* Further reduced from 7.5px */
  padding-right: 3.75px !important; /* Further reduced from 7.5px */
}

#right-panel-col {
  padding-left: 3.75px !important;   /* Further reduced from 7.5px */
}
/* --- End Main Layout Styles --- */

/* --- Progress Bar Styling --- */
.progress-bar-text {
  font-size: var(--font-size-sm) !important; /* Consistent font size */
}

.progress-bar-percentage {
  margin-left: 10px !important; /* Add space to the left of the percentage */
}

/* Ensure striped progress bars are visible */
.progress-bar-striped {
  background-image: linear-gradient(45deg, rgba(255, 255, 255, .15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .15) 50%, rgba(255, 255, 255, .15) 75%, transparent 75%, transparent) !important;
  background-size: 1rem 1rem !important;
}

/* --- Wizard Specific Styles --- */
.wizard-step {
  margin-top: 0 !important; /* Ensure no top margin */
  margin-bottom: 0.25rem !important; /* Consistent small bottom margin, reduced from 0.1875rem and unified with .card */
}

/* --- Strategy Parameter Inputs Styling --- */
.param-row {
  display: flex;
  align-items: center;
  margin-bottom: 8px;
}

.param-label {
  width: 180px; /* Fixed width for labels */
  flex-shrink: 0;
  display: flex;
  align-items: center;
}

.param-input {
  flex-grow: 0;
}

/* --- Utility Classes --- */
.mb-2 { margin-bottom: 0.5rem !important; }
.mt-2 { margin-top: 0.5rem !important; }
.mb-3 { margin-bottom: 0.5rem !important; } /* Reduced from 1rem */
.mt-3 { margin-top: 1rem !important; }

/* Add more specific styles as needed */

/* --- Custom Button Group Styling --- */
/* Make inactive outline buttons in button groups more visible */
.btn-group > .btn.btn-outline-primary:not(.active) {
  background-color: #2a2e39; /* Slightly lighter dark shade */
  color: #adb5bd;           /* Lighter gray text */
  border-color: #444;       /* Subtle border */
}

/* Optional: Style for hover state */
.btn-group > .btn.btn-outline-primary:not(.active):hover {
  background-color: #343a40; /* Darken slightly on hover */
  color: #f8f9fa;           /* Lighter text on hover */
  border-color: #555;
}